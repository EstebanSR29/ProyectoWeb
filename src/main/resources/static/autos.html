<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
    <head>
        <title>CarShop</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
        <link href="css/estilos.css" rel="stylesheet" type="text/css"/>
        <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    </head>
    <body>
        <header>
            <div class="nav container">
                <i class='bx bx-menu-alt-right' id="menu-icon"></i>
                <a href="index.html" class="logo">Car <span>Shop</span></a>

                <ul class="navbar">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="autos.html" class="activo">Autos</a></li>
                    <li><a href="accesorios.html">Accesorios</a></li>
                    <li><a href="contacto.html">Contacto</a></li>
                    <li><a href="citas.html">Citas</a></li>
                    <li><a href="login.html">Iniciar Sesion</a></li>
                </ul>

                <i class='bx bx-search-alt-2' id="buscar-icon" onclick="toggleSearchBox()"></i>

                <div class="search-box container">
                    <input type="Buscar" name="" id="" placeholder="Buscar autos">
                </div>
            </div>
        </header>

        <section>
            <div class="catalogo" id="catalogo">
                <h1>CATALOGO DE AUTOS</h1>
            </div>
            <div class="catEstilo">
                <h2>BMW X5 2020</h2>
                <img src="imagenes/x5.jpg" alt=""/><br>
                <p>Cambios:Automatico</p><br>
                <p>Precio:$95.000</p>
                <p>------------------------------------------------------------------------</p>
                <h2>Mercedes Benz GLC 2022</h2>
                <img src="imagenes/GLC.jpg" alt=""/><br>
                <p>Cambios:Automatico</p><br>
                <p>Precio:$125.000</p><br>
                <p>------------------------------------------------------------------------</p>
                <h2>Porche Cayenne 2017</h2>
                <img src="imagenes/cayenne.jpg" alt=""/><br>
                <p>Cambios:Manual</p><br>
                <p>Precio:$60.000</p><br>
                <p>------------------------------------------------------------------------</p>
                <h2>Can Am Maverick 2020</h2>
                <img src="imagenes/can-am.jpg" alt=""/><br>
                <p>Cambios:Automatico - 4x4</p><br>
                <p>Precio:$30.000</p><br>
                <p>------------------------------------------------------------------------</p>
                <h2>Twingo 2022</h2>
                <img src="imagenes/twingo.jpg" alt=""/><br>
                <p>Cambios:Automatico</p><br>
                <p>Precio:$40.000</p><br>
                <p>------------------------------------------------------------------------</p>

            </div>           
        </section>
        
<!-- 1 Sección para crear el boton de agregar... llamará a una ventana modal-->
        <section th:fragment="botonesAgregar" class="py-4 mb-4 bg-light">
            <div class="container" sec:authorize="hasRole('ROLE_ADMIN')">
                <div class="row">
                    <div class="col-md-3">
                        <button 
                            type="button" 
                            class="btn btn-primary btn-block" 
                            data-bs-toggle="modal" 
                            data-bs-target="#agregarAuto">
                            <i class="fas fa-plus"></i> agregar auto
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2 Fragmento para agregar auto, es la ventana modal -->
        <section th:fragment="agregarAuto">
            <div id="agregarAuto" 
                 class="modal fade" 
                 tabindex="-1" 
                 aria-labelledby="exampleModalLabel" 
                 aria-hidden="true">
                <div class="modal-dialog modal-md">
                    <div class="modal-content">
                        <div class="modal-header bg-info text-white">
                            <h5 class="modal-title">agregar auto</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div> 
                        <form th:action="@{/auto/guardar}" th:object="${auto}"
                              method="POST" class="was-validated" enctype="multipart/form-data">
                            <div class="modal-body">
                                <div class="mb-3">
                                    <label for="descripcion">modelo</label>
                                    <input type="text" class="form-control" name="modelo" required="true"/>
                                </div>
                                 <div class="mb-3">
                                    <label for="descripcion">marca</label>
                                    <input type="text" class="form-control" name="marca" required="true"/>
                                </div>
                                 <div class="mb-3">
                                    <label for="descripcion">precio</label>
                                    <input type="text" class="form-control" name="precio" required="true"/>
                                </div>
                                <div class="mb-3">
                                    <label for="activo">activo</label>
                                    <input class="form-check-input" type="checkbox" name="activo" id="activo"/>
                                </div>
                                <div class="mb-3">
                                    <label for="imagen">imagen</label>
                                    <input class="form-control" type="file" name="imagenFile" onchange="readURL(this);"/>
                                    <img id="blah" src="#" alt="your image" height="200"/>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-primary" type="submit">Guardar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        
        <script>
            function toggleSearchBox() {
                var searchBox = document.querySelector('.search-box');
                searchBox.classList.toggle('activo');
            }
        </script>
        <br>
        <br>
        <br>
        <footer class="footer">CarShop &COPY; 2023 - Grupo 10</footer>
</body>
</html>
